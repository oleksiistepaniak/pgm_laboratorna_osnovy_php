<?php
// описуємо функцію для перевірки, чи є рік високосним
function isLeapYear($year)
{
    return ($year % 4 == 0 && ($year % 100 != 0 || $year % 400 == 0));
}

// описуємо функцію для калькуляції кількості днів у місяці
function daysInMonth($month, $year)
{
    // масив кількостей днів у кожному місяці для звичайного року
    $daysInMonth = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
    // високосний рік: в лютому додати ще один день
    if (isLeapYear($year)) {
        $daysInMonth[1] = 29;
    }
    return $daysInMonth[$month - 1];
}

// описуємо функцію для обчислення дня тижня для певної дати
function calculateWeekday($day, $month, $year, $wdf)
{
    // розраховуємо кількість днів з 1 січня до заданої дати
    $daysPassed = 0;

    // додаемо кількість днів у кожному попередньому місяці
    for ($m = 1; $m < $month; $m++) {
        $daysPassed += daysInMonth($m, $year);
    }

    // додаємо дні в поточному місяці
    $daysPassed += ($day - 1);

    // визначаємо день тижня для заданої дати й повертаємо
    return ($wdf + $daysPassed) % 7;
}

// задаємо значення
$day = 15; // день
$month = 3; // місяць
$year = 2024; // рік (високосний)
$wdf = 2; // день тижня для 1 січня (0=Пн, 1=Вт, ..., 6=Нд)

// обчислюємо день тижня для заданої дати
$wd = calculateWeekday($day, $month, $year, $wdf);

// виводимо результат в консольку
$daysOfWeek = ["Пн", "Вт", "Ср", "Чт", "Пт", "Сб", "Нд"];
echo "День тижня для $day/$month/$year: " . $daysOfWeek[$wd] . "\n";
?>